import React from 'react'
import clsx from 'clsx'

import { Icon } from '../Icon'
import type { FilledProp, IconProps } from '../IconProps'

type BubbleChatProps = {
  reverse?: boolean
} & (
  | { type?: 'normal'; position?: 'left' | 'right' | 'middle' }
  | {
      type: 'multiple'
      withMark?: 'exclamation' | 'text'
    }
)

export const BubbleChat: IconProps<BubbleChatProps & FilledProp> = ({ filled = false, className, ...props }) => {
  const getPathPosition = () => {
    if (props.type == null || props.type === 'normal')
      switch (props.position) {
        case 'middle':
          return !filled
            ? 'M14.98 27C15.4292 27 15.8485 26.7989 16.2477 26.0688L18.0944 22.7989H21.4282C24.4029 22.7989 26 21.0528 26 17.9523V9.84656C26 6.74603 24.4029 5 21.4282 5H8.5717C5.5971 5 4 6.73544 4 9.84656V17.9523C4 21.0634 5.5971 22.7989 8.5717 22.7989H11.8657L13.7123 26.0688C14.1116 26.7989 14.5308 27 14.98 27ZM14.98 25.2645L13.3131 21.9523C12.9837 21.2645 12.7441 21.0952 12.0354 21.0952H8.5717C6.55536 21.0952 5.60708 20.0053 5.60708 17.9418V9.84656C5.60708 7.78307 6.55536 6.7037 8.5717 6.7037H21.4282C23.4346 6.7037 24.393 7.78307 24.393 9.84656V17.9418C24.393 20.0053 23.4346 21.0952 21.4282 21.0952H17.9248C17.2159 21.0952 16.9764 21.2645 16.6471 21.9523L14.98 25.2645Z'
            : 'M14.98 27C15.4292 27 15.8485 26.7989 16.2477 26.0688L18.0944 22.7989H21.4282C24.4029 22.7989 26 21.0528 26 17.9523V9.84656C26 6.74603 24.4029 5 21.4282 5H8.5717C5.5971 5 4 6.73544 4 9.84656V17.9523C4 21.0634 5.5971 22.7989 8.5717 22.7989H11.8657L13.7123 26.0688C14.1116 26.7989 14.5308 27 14.98 27Z'
        case 'right':
          return !filled
            ? 'M19.8612 27C20.56 27 20.9491 26.4684 20.9491 25.6495V22.8849H21.4283C24.4029 22.8849 26 21.1412 26 18.015V9.86999C26 6.74384 24.4029 5 21.4283 5H8.5717C5.5971 5 4 6.75447 4 9.86999V18.015C4 21.1304 5.5971 22.8849 8.5717 22.8849H14.98L18.4238 26.1494C19.0326 26.7236 19.3721 27 19.8612 27ZM19.4519 25.0542L16.2577 21.6728C15.8783 21.2581 15.599 21.173 15.0399 21.173H8.5717C6.56534 21.173 5.60708 20.0778 5.60708 18.0043V9.86999C5.60708 7.79652 6.56534 6.71194 8.5717 6.71194H21.4283C23.4446 6.71194 24.3929 7.79652 24.3929 9.86999V18.0043C24.3929 20.0778 23.4446 21.173 21.4283 21.173H20.2006C19.6615 21.173 19.4519 21.3963 19.4519 21.9705V25.0542Z'
            : 'M19.8612 27C20.56 27 20.9491 26.4684 20.9491 25.6495V22.8849H21.4283C24.4029 22.8849 26 21.1412 26 18.015V9.86999C26 6.74384 24.4029 5 21.4283 5H8.5717C5.5971 5 4 6.75447 4 9.86999V18.015C4 21.1304 5.5971 22.8849 8.5717 22.8849H14.98L18.4238 26.1494C19.0326 26.7236 19.3721 27 19.8612 27Z'
        case 'left':
        default:
          return !filled
            ? 'M10.1388 27C10.628 27 10.9673 26.7236 11.5762 26.1494L15.02 22.8849H21.4283C24.4029 22.8849 26 21.1304 26 18.015V9.86999C26 6.75447 24.4029 5 21.4283 5H8.5717C5.5971 5 4 6.74384 4 9.86999V18.015C4 21.1412 5.5971 22.8849 8.5717 22.8849H9.05083V25.6495C9.05083 26.4684 9.44012 27 10.1388 27ZM10.5481 25.0542V21.9705C10.5481 21.3963 10.3385 21.173 9.79945 21.173H8.5717C6.55535 21.173 5.60708 20.0778 5.60708 18.0043V9.86999C5.60708 7.79652 6.55535 6.71194 8.5717 6.71194H21.4283C23.4347 6.71194 24.3929 7.79652 24.3929 9.86999V18.0043C24.3929 20.0778 23.4347 21.173 21.4283 21.173H14.9601C14.4011 21.173 14.1216 21.2581 13.7423 21.6728L10.5481 25.0542Z'
            : 'M10.1388 27C10.628 27 10.9673 26.7236 11.5762 26.1494L15.02 22.8849H21.4283C24.4029 22.8849 26 21.1304 26 18.015V9.86999C26 6.75447 24.4029 5 21.4283 5H8.5717C5.5971 5 4 6.74384 4 9.86999V18.015C4 21.1412 5.5971 22.8849 8.5717 22.8849H9.05083V25.6495C9.05083 26.4684 9.44012 27 10.1388 27Z'
      }
  }

  return (
    <Icon className={className} style={{ rotate: clsx({ '180deg': props.reverse }) }}>
      {props.type === 'multiple' ? (
        <>
          <path
            fill='currentColor'
            d={
              !filled
                ? 'M7.41505 20.4461H6.99623C4.39606 20.4461 3 18.9401 3 16.2494V9.20591C3 6.51523 4.39606 5 6.99623 5H18.2345C20.8347 5 22.2308 6.51523 22.2308 9.20591V10.0101L20.826 10.0156V9.21509C20.826 7.42437 19.9884 6.4785 18.2345 6.4785H6.99623C5.2337 6.4785 4.40479 7.42437 4.40479 9.21509V16.2402C4.40479 18.031 5.2337 18.9677 6.99623 18.9677H8.06945C8.54063 18.9677 8.72386 19.1605 8.72386 19.6656V22.3195L11.516 19.4085C11.7782 19.1252 12.3028 18.9803 12.3028 18.9803C12.3028 19.4085 12.6355 20.6199 12.6355 20.6199L9.62257 23.2746C9.09033 23.7613 8.79366 24 8.36612 24C7.75534 24 7.41505 23.55 7.41505 22.843V20.4461Z'
                : 'M7.37287 20.4461H6.95805C4.39137 20.4461 3 18.9401 3 16.2494V9.20589C3 6.51522 4.39137 5 6.95805 5H18.089C20.3893 5 21.7381 6.20888 22 8.38449L15.4732 8.40008C14.1212 8.40008 11.3434 9.34044 11.0484 13.1019V18.5873C11 20.5 12 21 12 21L9.55931 23.2745C9.04079 23.7612 8.74696 24 8.31485 24C7.71855 24 7.37287 23.55 7.37287 22.8429V20.4461Z'
            }
          />
          <path
            fill='currentColor'
            d={
              !filled
                ? 'M15.9712 22.7246H18.9021L21.9235 25.2911C22.4753 25.7576 22.7738 26 23.208 26C23.8322 26 24.185 25.5602 24.185 24.8783V22.7246H24.375C26.9802 22.7246 28.3462 21.3337 28.3462 18.7941V13.9394C28.3462 11.3909 26.9802 10 24.375 10H15.9712C13.3659 10 12 11.3909 12 13.9394V18.7941C12 21.3426 13.3659 22.7246 15.9712 22.7246ZM15.9984 21.2798C14.2253 21.2798 13.4654 20.4543 13.4654 18.7762V13.9574C13.4654 12.2793 14.2253 11.4448 15.9984 11.4448H24.3569C26.1208 11.4448 26.8898 12.2793 26.8898 13.9574V18.7672C26.8898 20.4543 26.1208 21.2798 24.3569 21.2798H23.5247C23.1356 21.2798 22.8281 21.5132 22.8281 22.0157V24.3667L19.7706 21.6567C19.472 21.3785 19.2187 21.2798 18.8479 21.2798H15.9984Z'
                : 'M15.6462 21.4294H18.3289L21.103 23.8354C21.6097 24.2729 21.8837 24.5 22.2907 24.5C22.8638 24.5 23.1877 24.0878 23.1877 23.4484V21.4294H23.3538C25.7459 21.4294 27 20.1254 27 17.7445V13.1932C27 10.804 25.7459 9.5 23.3538 9.5H15.6462C13.2541 9.5 12 10.804 12 13.1932V17.7445C12 20.1338 13.2541 21.4294 15.6462 21.4294Z'
            }
          />
        </>
      ) : (
        <path fill='currentColor' d={getPathPosition()} />
      )}

      {props.type === 'multiple' && props.withMark === 'exclamation' && (
        <path
          fill={filled ? 'white' : 'black'}
          d='M20.3705 17.3955C20.7785 17.3955 20.9961 17.1671 21.0052 16.7467L21.114 13.7585C21.1322 13.3108 20.8148 13 20.3795 13C19.9443 13 19.6178 13.3199 19.636 13.7676L19.7448 16.7467C19.7629 17.1762 19.9806 17.3955 20.3705 17.3955ZM20.3795 20C20.842 20 21.25 19.6162 21.25 19.1501C21.25 18.6841 20.8511 18.3003 20.3795 18.3003C19.8989 18.3003 19.5 18.675 19.5 19.1501C19.5 19.6253 19.908 20 20.3795 20Z'
        />
      )}

      {props.type === 'multiple' && props.withMark === 'text' && (
        <path
          fill={filled ? 'white' : 'black'}
          d='M16.6006 15.1534C16.2464 15.1534 16 14.9021 16 14.5767C16 14.244 16.2464 14 16.6006 14H22.3916C22.7382 14 23 14.244 23 14.5767C23 14.9021 22.7382 15.1534 22.3916 15.1534H16.6006ZM16.6006 18C16.2464 18 16 17.7709 16 17.4381C16 17.1128 16.2464 16.8466 16.6006 16.8466H20.8361C21.1749 16.8466 21.4521 17.1128 21.4521 17.4381C21.4521 17.7709 21.1749 18 20.8361 18H16.6006Z'
        />
      )}
    </Icon>
  )
}
