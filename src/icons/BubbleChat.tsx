import React from 'react'
import clsx from 'clsx'

import { Icon } from '../Icon'
import type { FilledProp, IconProps } from '../IconProps'

type BubbleChatProps = {
  reverse?: boolean
} & (
  | { type?: 'normal'; position?: 'left' | 'right' | 'middle' }
  | {
      type: 'multiple'
      withMark?: 'exclamation' | 'text'
    }
)

export const BubbleChat: IconProps<BubbleChatProps & FilledProp> = ({ filled = false, className, ...props }) => {
  const getPathPosition = () => {
    if (props.type == null || props.type === 'normal')
      switch (props.position) {
        case 'middle':
          return `M14.98 27c.45 0 .868-.201 1.268-.931l1.846-3.27h3.334c2.975 0 4.572-1.746 4.572-4.847V9.847C26 6.746 24.403 5 21.428 5H8.572C5.597 5 4 6.735 4 9.847v8.105C4 21.063 5.597 22.8 8.572 22.8h3.294l1.846 3.27c.4.73.819.931 1.268.931Zm0-1.735-1.667-3.313c-.33-.688-.569-.857-1.278-.857H8.572c-2.017 0-2.965-1.09-2.965-3.153V9.847c0-2.064.948-3.143 2.965-3.143h12.856c2.007 0 2.965 1.08 2.965 3.143v8.095c0 2.063-.958 3.153-2.965 3.153h-3.503c-.71 0-.949.17-1.278.857l-1.667 3.313Z${
            !filled &&
            'M14.98 27c.45 0 .868-.201 1.268-.931l1.846-3.27h3.334c2.975 0 4.572-1.746 4.572-4.847V9.847C26 6.746 24.403 5 21.428 5H8.572C5.597 5 4 6.735 4 9.847v8.105C4 21.063 5.597 22.8 8.572 22.8h3.294l1.846 3.27c.4.73.819.931 1.268.931Z'
          }`
        case 'right':
          return `M19.861 27c.699 0 1.088-.532 1.088-1.35v-2.765h.48c2.974 0 4.571-1.744 4.571-4.87V9.87C26 6.744 24.403 5 21.428 5H8.572C5.597 5 4 6.754 4 9.87v8.145c0 3.115 1.597 4.87 4.572 4.87h6.408l3.444 3.264c.609.575.948.851 1.437.851Z${
            !filled &&
            'm-.41-1.946-3.193-3.381c-.38-.415-.659-.5-1.218-.5H8.572c-2.007 0-2.965-1.095-2.965-3.169V9.87c0-2.073.958-3.158 2.965-3.158h12.856c2.017 0 2.965 1.085 2.965 3.158v8.134c0 2.074-.948 3.169-2.965 3.169h-1.227c-.54 0-.75.223-.75.798v3.083Z'
          }`
        case 'left':
        default:
          return `M10.139 27c.489 0 .828-.276 1.437-.85l3.444-3.265h6.408c2.975 0 4.572-1.755 4.572-4.87V9.87C26 6.754 24.403 5 21.428 5H8.572C5.597 5 4 6.744 4 9.87v8.145c0 3.126 1.597 4.87 4.572 4.87h.479v2.764c0 .82.39 1.351 1.088 1.351Z${
            !filled &&
            'm.41-1.946v-3.083c0-.575-.21-.798-.75-.798H8.572c-2.017 0-2.965-1.095-2.965-3.169V9.87c0-2.073.948-3.158 2.965-3.158h12.856c2.007 0 2.965 1.085 2.965 3.158v8.134c0 2.074-.958 3.169-2.965 3.169H14.96c-.559 0-.838.085-1.218.5l-3.194 3.381Z'
          }`
      }
  }

  return (
    <Icon className={className} style={{ rotate: clsx({ '180deg': props.reverse }) }}>
      {props.type === 'multiple' ? (
        <>
          <path
            fill='currentColor'
            d={
              !filled
                ? 'M7.415 20.446h-.419C4.396 20.446 3 18.94 3 16.25V9.206C3 6.516 4.396 5 6.996 5h11.238c2.6 0 3.997 1.515 3.997 4.206v.804l-1.405.006v-.8c0-1.792-.838-2.737-2.591-2.737H6.995c-1.762 0-2.591.945-2.591 2.736v7.025c0 1.791.829 2.728 2.591 2.728H8.07c.472 0 .655.192.655.698v2.654l2.792-2.912c.262-.283.787-.428.787-.428 0 .428.332 1.64.332 1.64l-3.012 2.655c-.533.486-.83.725-1.257.725-.61 0-.95-.45-.95-1.157v-2.397Z'
                : 'M7.373 20.446h-.415C4.391 20.446 3 18.94 3 16.25V9.206C3 6.516 4.391 5 6.958 5H18.09c2.3 0 3.65 1.209 3.911 3.384l-6.527.016c-1.352 0-4.13.94-4.425 4.702v5.485C11 20.5 12 21 12 21l-2.44 2.274c-.52.487-.813.726-1.245.726-.596 0-.942-.45-.942-1.157v-2.397Z'
            }
          />
          <path
            fill='currentColor'
            d={
              !filled
                ? 'M15.971 22.725h2.931l3.021 2.566c.552.467.85.709 1.285.709.624 0 .977-.44.977-1.122v-2.153h.19c2.605 0 3.971-1.391 3.971-3.93v-4.856c0-2.548-1.366-3.939-3.971-3.939h-8.404C13.366 10 12 11.39 12 13.94v4.854c0 2.549 1.366 3.93 3.971 3.93Zm.027-1.445c-1.773 0-2.533-.826-2.533-2.504v-4.819c0-1.678.76-2.512 2.533-2.512h8.359c1.764 0 2.533.834 2.533 2.512v4.81c0 1.687-.77 2.513-2.533 2.513h-.832c-.39 0-.697.233-.697.736v2.35l-3.057-2.71c-.299-.277-.552-.376-.923-.376h-2.85Z'
                : 'M15.646 21.43h2.683l2.774 2.405c.507.438.78.665 1.188.665.573 0 .897-.412.897-1.052V21.43h.166c2.392 0 3.646-1.304 3.646-3.684v-4.552c0-2.389-1.254-3.693-3.646-3.693h-7.708C13.254 9.5 12 10.804 12 13.193v4.551c0 2.39 1.254 3.685 3.646 3.685Z'
            }
          />
        </>
      ) : (
        <path fill='currentColor' d={getPathPosition()} />
      )}

      {props.type === 'multiple' && props.withMark === 'exclamation' && (
        <path
          fill={filled ? 'white' : 'black'}
          d='M20.3705 17.3955C20.7785 17.3955 20.9961 17.1671 21.0052 16.7467L21.114 13.7585C21.1322 13.3108 20.8148 13 20.3795 13C19.9443 13 19.6178 13.3199 19.636 13.7676L19.7448 16.7467C19.7629 17.1762 19.9806 17.3955 20.3705 17.3955ZM20.3795 20C20.842 20 21.25 19.6162 21.25 19.1501C21.25 18.6841 20.8511 18.3003 20.3795 18.3003C19.8989 18.3003 19.5 18.675 19.5 19.1501C19.5 19.6253 19.908 20 20.3795 20Z'
        />
      )}

      {props.type === 'multiple' && props.withMark === 'text' && (
        <path
          fill={filled ? 'white' : 'black'}
          d={
            !filled
              ? 'M16.6006 15.1534C16.2464 15.1534 16 14.9021 16 14.5767C16 14.244 16.2464 14 16.6006 14H22.3916C22.7382 14 23 14.244 23 14.5767C23 14.9021 22.7382 15.1534 22.3916 15.1534H16.6006ZM16.6006 18C16.2464 18 16 17.7709 16 17.4381C16 17.1128 16.2464 16.8466 16.6006 16.8466H20.8361C21.1749 16.8466 21.4521 17.1128 21.4521 17.4381C21.4521 17.7709 21.1749 18 20.8361 18H16.6006Z'
              : 'M16.1 14.153c-.354 0-.6-.25-.6-.576 0-.333.246-.577.6-.577h5.792c.346 0 .608.244.608.577 0 .325-.262.576-.608.576H16.1Zm0 2.847c-.354 0-.6-.23-.6-.562 0-.325.246-.591.6-.591h4.236c.339 0 .616.266.616.591 0 .333-.277.562-.616.562H16.1Z'
          }
        />
      )}
    </Icon>
  )
}
